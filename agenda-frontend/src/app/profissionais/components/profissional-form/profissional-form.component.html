<form [formGroup]="form" (ngSubmit)="save()">
    <!-- Nome -->
    <div class="mb-3">
        <label for="nome" class="form-label">Nome</label>
        <input type="text" class="form-control" id="nome" formControlName="nome"
            [class.is-invalid]="nome?.invalid && (nome?.dirty || nome?.touched)">
        <!-- Error Messages -->
        <div *ngIf="nome?.invalid && (nome?.dirty || nome?.touched)" class="invalid-feedback">
            <div *ngIf="nome?.errors?.['required']">Nome é obrigatório.</div>
            <div *ngIf="nome?.errors?.['minlength']">Nome deve ter no mínimo 3 caracteres.</div>
            <div *ngIf="nome?.errors?.['maxlength']">Nome não pode exceder 150 caracteres.</div>
        </div>
    </div>

    <!-- Email -->
    <div class="mb-3">
        <label for="email" class="form-label">Email</label>
        <input type="email" class="form-control" id="email" formControlName="email"
            [class.is-invalid]="email?.invalid && (email?.dirty || email?.touched)">
        <!-- Error Messages -->
        <div *ngIf="email?.invalid && (email?.dirty || email?.touched)" class="invalid-feedback">
            <div *ngIf="email?.errors?.['email']">Por favor, insira um email válido.</div>
        </div>
    </div>

    <!-- Telefone -->
    <div class="mb-3">
        <label for="telefone" class="form-label">Telefone</label>
        <input type="text" class="form-control" id="telefone" formControlName="telefone" mask="(00) 00000-0000">
    </div>

    <!-- Áreas -->
    <div class="mb-3">
        <label for="areas" class="form-label">Áreas de Atuação</label>
        <select id="areas" class="form-select" multiple formControlName="areaIds"
            [class.is-invalid]="areaIds?.invalid && (areaIds?.dirty || areaIds?.touched)">
            <option *ngFor="let area of areas$ | async" [value]="area.id">{{ area.nome }}</option>
        </select>
        <!-- Error Messages -->
        <div *ngIf="areaIds?.invalid && (areaIds?.dirty || areaIds?.touched)" class="invalid-feedback">
            <div *ngIf="areaIds?.errors?.['required']">Selecione pelo menos uma área.</div>
        </div>
    </div>

    <!-- Ativo Checkbox -->
    <div class="form-check mb-3">
        <input class="form-check-input" type="checkbox" id="ativo" formControlName="ativo">
        <label class="form-check-label" for="ativo">Ativo</label>
    </div>

    <div class="d-flex justify-content-end">
        <button type="submit" class="btn btn-primary" [disabled]="form.invalid">Salvar</button>
    </div>
</form>